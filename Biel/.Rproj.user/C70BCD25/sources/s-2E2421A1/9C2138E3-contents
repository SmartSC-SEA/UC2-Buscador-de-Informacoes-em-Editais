lista_erros_dois <- list()
posicao_lista = 1
base_final_dois$conteudo_edital <- NA
for (i in 1:nrow(base_final_dois)) {
  print(paste0('Inserindo na tabela o conteÃºdo do documento: ',i, ' de ',nrow(base_final_dois)))
  if (str_detect(string = try(html_text(read_html(base_final_dois$link_completo_para_editais[i]))), pattern = 'PDF')) {
    print('Documento em PDF')
    base_final_dois$conteudo_edital[i] <- str_flatten(pdftools::pdf_text(pdf = base_final_dois$link_completo_para_editais[i]))
  }else{
    lista_erros_dois[posicao_lista] <- print(base_final_dois$link_completo_para_editais[i])
    posicao_lista <- posicao_lista + 1
    print('Formato de documento desconhecido')
  }
}

base_final_dois <- semi_join(x = base_final, y = erros, by = c("link_completo_para_editais" = "links_com_erro"))
